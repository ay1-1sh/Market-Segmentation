<!DOCTYPE html>
<html>
<head>
    <title>My App</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <!-- Wifi tunnel section -->
        <div class="row mb-5">
            <div class="col-md-4">
                <a href="{{ url_for('readme') }}" class="btn btn-primary">Readme.md</a>
            </div>
        </div>
        <div class="container mt-5">
            <!-- Dataset selection section -->
            <form method="POST" action="{{ url_for('generate_clusters') }}" enctype="multipart/form-data">
                <div class="row mb-5">
                    <div class="col-md-4">
                        <h4>Select a Dataset:</h4>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Dataset Name</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Existing dataset options -->
                                <tr>
                                    <td><input type="radio" name="dataset" value="dataset1" id="dataset1"></td>
                                    <td>Sales Transaction: Contains information about sales transactions such as product ID, weight, fat content, product visibility, type, MRP, and sales outlet.</td>
                                </tr>
						<tr>
							<td><input type="radio" name="dataset" value="dataset2" id="dataset2"></td>
							<td>PersonalInfo: Contains personal information such as first name, last name, title, gender, email, address, job details, and IP address.</td>
						</tr>
						<tr>
							<td><input type="radio" name="dataset" value="dataset3" id="dataset3"></td>
							<td>CustomerDemographics: Contains demographic information about customers such as age, education, income, occupation, and settlement size.</td>
						</tr>
						<tr>
							<td><input type="radio" name="dataset" value="dataset4" id="dataset4"></td>
							<td>WineQuality: Contains chemical composition and sensory data for wines, with a customer segmentation variable.</td>
						</tr>
						<tr>
							<td><input type="radio" name="dataset" value="dataset5" id="dataset5"></td>
							<td>OnlineRetail: Contains information about online retail transactions such as invoice number, product code, description, quantity, price, and country.</td>
						</tr>
						<tr>
							<td><input type="radio" name="dataset" value="dataset6" id="dataset6"></td>
							<td>GeoLocation: Contains information about geographic locations such as latitude, longitude, country, and time zone.</td>
						</tr>
						<tr style="display: none;">
							<td><input type="radio" name="dataset" value="dataset7" id="dataset7" style="display:none"></td>
							<td>ProductSales: Contains information about product sales such as product ID, weight, fat content, product visibility, type, MRP, and sales outlet.</td>
						</tr>
                        <tr style="display: none;">
							<td><input type="radio" name="dataset" value="dataset8" id="dataset8" style="display:none"></td>
							<td>SportsPerformance: Contains information about sports performance such as name, age, gender, device used, network type, and sports played.</td>
						</tr>
                        <tr style="display: none;">
							<td><input type="radio" name="dataset" value="dataset9" id="dataset9" style="display:none"></td>
							<td>CustomerSegmentation: Contains demographic and behavioral data about customers, used for segmentation and targeting.</td>
						</tr>
                        <tr style="display: none;">
							<td><input type="radio" name="dataset" value="dataset10" id="dataset10" style="display:none"></td>
							<td>MarketBasketAnalysis: Contains information about items purchased together in a transaction, used for market basket analysis.</td>
						</tr>
                                <tr>
                                    <td><input type="radio" name="dataset" value="custom" id="custom"></td>
                                    <td>Custom Dataset:</td>
                                </tr>
                                <!-- Custom dataset file input -->
                                <tr id="custom-dataset-row" style="display: none;">
                                    <td><label for="custom-dataset">Upload Dataset File:</label></td>
                                    <td><input type="file" name="custom_dataset" id="custom-dataset"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- Clustering section -->
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="algoSelect">Select Algorithm:</label>
                                <select class="form-control" id="algoSelect" name="algo_type">
                                    <option value="k-means">K-Means Clustering</option>
                                    <option value="hierarchical">Hierarchical Clustering</option>
                                    <option value="DBSCAN">DBSCAN Clustering</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="clusterSelect">Select Number of Clusters:</label>
                                <select class="form-control" id="clusterSelect" name="num_clusters">
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">Generate</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
        $('input[name="dataset"]').change(function() {
            if ($(this).val() === 'custom') {
                $('#custom-dataset-row').show();
            } else {
                $('#custom-dataset-row').hide();
            }
        });

        $('form').submit(function(e) {
            var dataset = $('input[name="dataset"]:checked').val();
            if (dataset === 'custom') {
                var fileInput = $('#custom-dataset')[0];
                var file = fileInput.files[0];
                if (file) {
                    // Submit the form without AJAX
                    return true;
                } else {
                    alert('Please select a file.');
                    return false;  // Prevent form submission
                }
            }
        });
    });
</script>

</body>
</html>
